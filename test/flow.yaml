config:
    - product_list: &product_list
        /tmp/bla.xml
work:
    - type: daemon
      name: listener
      components:
        - class: !!python/object:trollduction.plugins.listener.ListenerContainer
            topics:
              - /foo/bar
              - /foo/baz
    - type: workflow
      name: processor
      Workflow:
        - trollduction.plugins.messaging.MessageLoader:
            product_list: *product_list
    - type: workflow
      name: processor
      Workflow:
        - trollduction.plugins.resampler.Resampler:
            product_list: *product_list
    - type: workflow
      name: processor
      Workflow:
        - trollduction.plugins.compositor.CompositeGenerator:
            product_list: *product_list
#    - type: daemon
#      name: writer
#      components:
#        - class: !!python/object:trollduction.plugins.writer.DataWriterContainer
#            {}

#    - type: daemon
#      name: writer
#      components:
#        - class: trollflow.writers.write
#        - class: trollflow.publish
#          topic: /kool/finished
